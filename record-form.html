<link rel="import" href="bower_components/polymer/polymer.html">
<link rel="import" href="bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="bower_components/paper-input/paper-input.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">

<dom-module id="record-form">
<style>
</style>
<template>
  <paper-dialog id="{{ ident }}" modal>
    <h2>{{ title }}</h2>
    <paper-tabs selected="{{recordType}}">
      <paper-tab>Data Entry</paper-tab>
      <paper-tab>Doctor's Notes</paper-tab>
      <paper-tab>Medication</paper-tab>
      <paper-tab>Test Results</paper-tab>
    </paper-tabs>

    <iron-pages selected="{{recordType}}">

      <div class="record-DATA">
        <form is="iron-form" id="recordform" method="post"
              action="/api/patient/{{ patient_id }}/record/0/save">
          <div class="vertical layout">
            <paper-input name="date_birth" label="Date of birth" value="01.01.1900"></paper-input>
            <input name="sex_code" label="Female" type="radio" value="2" checked>Female
            <input name="sex_code" label="Male" type="radio" value="1">Male
          </div>
        </form>
      </div>

      <div class="record-NOTE">
        <form is="iron-form" id="recordform" method="post"
              action="/api/patient/{{ patient_id }}/record/1/save">
          <div class="vertical layout">
            <paper-input name="subject" label="Summary" required autofocus></paper-input>
            <textarea name="note" label="Note" required rows="3"></textarea>
          </div>
        </form>
      </div>

      <div class="record-MED">
      </div>

      <div class="record-LAB">
      </div>

    </iron-pages>
    <div class="buttons">
      <paper-button dialog-dismiss>Cancel</paper-button>
      <paper-button raised on-tap="saveDialog">Save</paper-button>
    </div>
  </paper-dialog>
</template>
<script>
  Polymer({
    is: 'patient-form',

    properties: {
      title: {
        value: "New record",
        reflectToAttribute: true
      }
    },

    saveDialog: function(e) {
      // if (this.$.patientform.checkValidity()) {
      //   this.$.patientform.submit();
      //   this.$.patientform.reset();
      //   document.getElementById(this.ident).close();
      //   this.fire('patient-saved');
      //   return true;
      // } else {
      //   return false;
      // }
    }

  });
</script>
</dom-module>
